[ ca ]
default_ca = my_ca

[ my_ca ]

dir = ./ca
serial = $dir/serial
new_certs_dir = $dir/newcerts
certificate = $dir/ca.crt
private_key = $dir/ca.key

database = $dir/index.txt
unique_subject = no

name_opt = ca_default
cert_opt = ca_default
default_md = sha256
default_days = 100
x509_extensions = usr_cert
copy_extensions = copy

# TODO: CRL
crl_extensions = crl_ext
default_crl_days = 30

policy = my_policy

[ my_policy ]
countryName = match
stateOrProvinceName = match
localityName = match
organizationName = match
commonName = match
emailAddress = match

[ usr_cert ]
subjectKeyIdentifier = hash
authorityKeyIdentifier = keyid:always, issuer:always
basicConstraints = critical, CA:FALSE
keyUsage = critical, nonRepudiation, digitalSignature, keyEncipherment

[ crl_ext ]
authorityKeyIdentifier = keyid:always
